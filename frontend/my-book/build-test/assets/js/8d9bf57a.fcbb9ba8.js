"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[8353],{2753:(e,r,a)=>{a.r(r),a.d(r,{default:()=>g});var s=a(6540),l=a(1656),o=a(9785),n=a(8871),i=a(3453),c=a(4586),t=a(4848);const d=i.Ik({email:i.Yj().min(1,"Email is required").email("Please enter a valid email address"),password:i.Yj().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:i.Yj().min(1,"Please confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),m=({onSignupSuccess:e})=>{const[r,a]=(0,s.useState)(!1),[l,i]=(0,s.useState)(null),{register:m,handleSubmit:p,formState:{errors:u}}=(0,o.mN)({resolver:(0,n.u)(d),mode:"onBlur"});return(0,t.jsx)("div",{className:"auth-form-container",children:(0,t.jsxs)("div",{className:"auth-form-card",children:[(0,t.jsx)("h2",{className:"auth-form-title",children:"Create Your Account"}),(0,t.jsx)("p",{className:"auth-form-subtitle",children:"Step 1 of 2: Enter your email and password"}),(0,t.jsxs)("form",{onSubmit:p(async r=>{a(!0),i(null);try{const{siteConfig:a}=(0,c.A)(),s=a.customFields?.backendUrl||"http://localhost:8000",l=await fetch(`${s}/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:r.email,password:r.password})});if(!l.ok){const e=await l.json();if((400===l.status||409===l.status)&&(e.detail?.toLowerCase().includes("already")||e.detail?.toLowerCase().includes("duplicate")||e.detail?.toLowerCase().includes("exists")))throw new Error("This email is already registered. Please sign in instead.");throw new Error(e.detail||"Failed to create account")}e()}catch(s){s instanceof Error?i(s.message):i("An unexpected error occurred. Please try again.")}finally{a(!1)}}),className:"auth-form",children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),(0,t.jsx)("input",{id:"email",type:"email",className:"form-input "+(u.email?"form-input-error":""),placeholder:"you@example.com",...m("email"),disabled:r}),u.email&&(0,t.jsx)("p",{className:"form-error",children:u.email.message})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,t.jsx)("input",{id:"password",type:"password",className:"form-input "+(u.password?"form-input-error":""),placeholder:"At least 8 characters",...m("password"),disabled:r}),u.password&&(0,t.jsx)("p",{className:"form-error",children:u.password.message}),(0,t.jsx)("p",{className:"form-hint",children:"Must contain: 8+ characters, 1 uppercase, 1 lowercase, 1 number"})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),(0,t.jsx)("input",{id:"confirmPassword",type:"password",className:"form-input "+(u.confirmPassword?"form-input-error":""),placeholder:"Re-enter your password",...m("confirmPassword"),disabled:r}),u.confirmPassword&&(0,t.jsx)("p",{className:"form-error",children:u.confirmPassword.message})]}),l&&(0,t.jsxs)("div",{className:"form-error-banner",children:[(0,t.jsx)("svg",{className:"form-error-icon",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),l]}),(0,t.jsx)("button",{type:"submit",className:"form-submit-button",disabled:r,children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"form-spinner",viewBox:"0 0 24 24",children:(0,t.jsx)("circle",{className:"form-spinner-circle",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"})}),"Creating Account..."]}):"Continue to Background Questions"})]}),(0,t.jsx)("div",{className:"auth-form-footer",children:(0,t.jsxs)("p",{children:["Already have an account?"," ",(0,t.jsx)("a",{href:"/signin",className:"auth-link",children:"Sign in"})]})})]})})},p=i.Ik({softwareExperienceLevel:i.k5(["beginner","intermediate","advanced"],{required_error:"Please select your software development experience level"}),preferredLanguages:i.YO(i.Yj()).min(1,"Please select at least one programming language"),preferredFrameworks:i.YO(i.Yj()).optional(),hardwareExperienceLevel:i.k5(["beginner","intermediate","advanced"],{required_error:"Please select your hardware development experience level"}),preferredPlatforms:i.YO(i.Yj()).min(1,"Please select at least one development platform"),deviceTypes:i.YO(i.Yj()).optional()}),u=["Python","JavaScript","TypeScript","Java","C++","C#","Go","Rust","Ruby","PHP","Swift","Kotlin","R","MATLAB","SQL","Shell","Other"],h=["React","Vue","Angular","FastAPI","Django","Flask","Express","NestJS","Spring","ASP.NET","Ruby on Rails","Laravel","Fiber","Gin","Other"],f=["desktop","mobile","web","embedded","cloud","iot","other"],x=["laptop","desktop","smartphone","tablet","raspberry-pi","arduino","microcontroller","fpga","gpu","server","other"],j=({onComplete:e})=>{const[r,a]=(0,s.useState)(!1),[l,i]=(0,s.useState)(null),{register:d,handleSubmit:m,control:j,formState:{errors:b},watch:g}=(0,o.mN)({resolver:(0,n.u)(p),defaultValues:{preferredLanguages:[],preferredFrameworks:[],preferredPlatforms:[],deviceTypes:[]}}),v=g("preferredLanguages")||[],w=g("preferredFrameworks")||[],N=g("preferredPlatforms")||[],y=g("deviceTypes")||[],k=(e,r,a)=>a.includes(r)?a.filter(e=>e!==r):[...a,r];return(0,t.jsx)("div",{className:"auth-form-container",children:(0,t.jsxs)("div",{className:"auth-form-card background-form",children:[(0,t.jsx)("h2",{className:"auth-form-title",children:"Tell Us About Your Background"}),(0,t.jsx)("p",{className:"auth-form-subtitle",children:"Step 2 of 2: Help us personalize your learning experience"}),(0,t.jsxs)("form",{onSubmit:m(async r=>{a(!0),i(null);try{const{siteConfig:a}=(0,c.A)(),s=a.customFields?.backendUrl||"http://localhost:8000",l=await fetch(`${s}/background`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({software:{experience_level:r.softwareExperienceLevel,preferred_languages:r.preferredLanguages,preferred_frameworks:r.preferredFrameworks||[]},hardware:{experience_level:r.hardwareExperienceLevel,preferred_platforms:r.preferredPlatforms,device_types:r.deviceTypes||[]}})});if(!l.ok){const e=await l.json();throw new Error(e.detail||"Failed to save background information")}e()}catch(s){s instanceof Error?i(s.message):i("An unexpected error occurred. Please try again.")}finally{a(!1)}}),className:"auth-form",children:[(0,t.jsxs)("div",{className:"form-section",children:[(0,t.jsx)("h3",{className:"form-section-title",children:"Software Development"}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Experience Level *"}),(0,t.jsxs)("div",{className:"radio-group",children:[(0,t.jsxs)("label",{className:"radio-label",children:[(0,t.jsx)("input",{type:"radio",value:"beginner",...d("softwareExperienceLevel"),disabled:r}),"Beginner"]}),(0,t.jsxs)("label",{className:"radio-label",children:[(0,t.jsx)("input",{type:"radio",value:"intermediate",...d("softwareExperienceLevel"),disabled:r}),"Intermediate"]}),(0,t.jsxs)("label",{className:"radio-label",children:[(0,t.jsx)("input",{type:"radio",value:"advanced",...d("softwareExperienceLevel"),disabled:r}),"Advanced"]})]}),b.softwareExperienceLevel&&(0,t.jsx)("p",{className:"form-error",children:b.softwareExperienceLevel.message})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Preferred Programming Languages * (Select at least 1)"}),(0,t.jsx)("div",{className:"checkbox-grid",children:(0,t.jsx)(o.xI,{name:"preferredLanguages",control:j,render:({field:e})=>(0,t.jsx)(t.Fragment,{children:u.map(a=>(0,t.jsxs)("label",{className:"checkbox-label",children:[(0,t.jsx)("input",{type:"checkbox",value:a,checked:v.includes(a),onChange:r=>{const s=k(0,a,v);e.onChange(s)},disabled:r}),a]},a))})})}),b.preferredLanguages&&(0,t.jsx)("p",{className:"form-error",children:b.preferredLanguages.message})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Preferred Frameworks (Optional)"}),(0,t.jsx)("div",{className:"checkbox-grid",children:(0,t.jsx)(o.xI,{name:"preferredFrameworks",control:j,render:({field:e})=>(0,t.jsx)(t.Fragment,{children:h.map(a=>(0,t.jsxs)("label",{className:"checkbox-label",children:[(0,t.jsx)("input",{type:"checkbox",value:a,checked:w.includes(a),onChange:r=>{const s=k(0,a,w);e.onChange(s)},disabled:r}),a]},a))})})})]})]}),(0,t.jsxs)("div",{className:"form-section",children:[(0,t.jsx)("h3",{className:"form-section-title",children:"Hardware Development"}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Experience Level *"}),(0,t.jsxs)("div",{className:"radio-group",children:[(0,t.jsxs)("label",{className:"radio-label",children:[(0,t.jsx)("input",{type:"radio",value:"beginner",...d("hardwareExperienceLevel"),disabled:r}),"Beginner"]}),(0,t.jsxs)("label",{className:"radio-label",children:[(0,t.jsx)("input",{type:"radio",value:"intermediate",...d("hardwareExperienceLevel"),disabled:r}),"Intermediate"]}),(0,t.jsxs)("label",{className:"radio-label",children:[(0,t.jsx)("input",{type:"radio",value:"advanced",...d("hardwareExperienceLevel"),disabled:r}),"Advanced"]})]}),b.hardwareExperienceLevel&&(0,t.jsx)("p",{className:"form-error",children:b.hardwareExperienceLevel.message})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Preferred Development Platforms * (Select at least 1)"}),(0,t.jsx)("div",{className:"checkbox-grid",children:(0,t.jsx)(o.xI,{name:"preferredPlatforms",control:j,render:({field:e})=>(0,t.jsx)(t.Fragment,{children:f.map(a=>(0,t.jsxs)("label",{className:"checkbox-label",children:[(0,t.jsx)("input",{type:"checkbox",value:a,checked:N.includes(a),onChange:r=>{const s=k(0,a,N);e.onChange(s)},disabled:r}),a.charAt(0).toUpperCase()+a.slice(1)]},a))})})}),b.preferredPlatforms&&(0,t.jsx)("p",{className:"form-error",children:b.preferredPlatforms.message})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Familiar Device Types (Optional)"}),(0,t.jsx)("div",{className:"checkbox-grid",children:(0,t.jsx)(o.xI,{name:"deviceTypes",control:j,render:({field:e})=>(0,t.jsx)(t.Fragment,{children:x.map(a=>(0,t.jsxs)("label",{className:"checkbox-label",children:[(0,t.jsx)("input",{type:"checkbox",value:a,checked:y.includes(a),onChange:r=>{const s=k(0,a,y);e.onChange(s)},disabled:r}),a.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")]},a))})})})]})]}),l&&(0,t.jsxs)("div",{className:"form-error-banner",children:[(0,t.jsx)("svg",{className:"form-error-icon",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),l]}),(0,t.jsx)("button",{type:"submit",className:"form-submit-button",disabled:r,children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"form-spinner",viewBox:"0 0 24 24",children:(0,t.jsx)("circle",{className:"form-spinner-circle",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"})}),"Saving Your Preferences..."]}):"Complete Signup"})]}),(0,t.jsx)("div",{className:"auth-form-footer",children:(0,t.jsx)("p",{className:"form-hint",children:"You can update your preferences anytime from your profile settings"})})]})})};var b=a(6347);const g=()=>{const[e,r]=(0,s.useState)(1),a=(0,b.W6)();return(0,t.jsx)(l.A,{title:"Sign Up",description:"Create your account and personalize your learning experience",children:(0,t.jsxs)("main",{children:[1===e&&(0,t.jsx)(m,{onSignupSuccess:()=>{r(2)}}),2===e&&(0,t.jsx)(j,{onComplete:()=>{a.push("/")}})]})})}}}]);