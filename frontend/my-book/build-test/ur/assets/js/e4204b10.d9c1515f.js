"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[1575],{8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>o});var s=r(6540);const a={},l=s.createContext(a);function t(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),s.createElement(l.Provider,{value:n},e.children)}},8788:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"chapters/module1-practice","title":"module1-practice","description":"\x3c!--","source":"@site/i18n/ur/docusaurus-plugin-content-docs/current/chapters/module1-practice.md","sourceDirName":"chapters","slug":"/chapters/module1-practice","permalink":"/ur/docs/chapters/module1-practice","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"sanastudent","lastUpdatedAt":1765357874000,"frontMatter":{},"sidebar":"bookSidebar","previous":{"title":"module1-communication","permalink":"/ur/docs/chapters/module1-communication"},"next":{"title":"\u0645\u0648\u0688\u06cc\u0648\u0644 2: \u0688\u06cc\u062c\u06cc\u0679\u0644 \u0679\u0648\u0626\u0646 \u0679\u06cc\u06a9\u0646\u0627\u0644\u0648\u062c\u06cc \u06a9\u0627 \u062a\u0639\u0627\u0631\u0641","permalink":"/ur/docs/chapters/module2-intro"}}');var a=r(4848),l=r(8453);const t={},o="[Urdu Translation Required]",i={},c=[{value:"Building a Complete Robot System",id:"building-a-complete-robot-system",level:2},{value:"Project: Autonomous Explorer Robot",id:"project-autonomous-explorer-robot",level:2},{value:"System Requirements",id:"system-requirements",level:3},{value:"Architecture",id:"architecture",level:3},{value:"Implementation",id:"implementation",level:2},{value:"1. LiDAR Node",id:"1-lidar-node",level:3},{value:"2. Obstacle Detection Node",id:"2-obstacle-detection-node",level:3},{value:"3. Navigation Node (Action)",id:"3-navigation-node-action",level:3},{value:"Launch File",id:"launch-file",level:2},{value:"Testing the System",id:"testing-the-system",level:2},{value:"1. Build and Source",id:"1-build-and-source",level:3},{value:"2. Launch the System",id:"2-launch-the-system",level:3},{value:"3. Send Navigation Goal",id:"3-send-navigation-goal",level:3},{value:"4. Monitor Topics",id:"4-monitor-topics",level:3},{value:"Debugging Tools",id:"debugging-tools",level:2},{value:"RQt Graph",id:"rqt-graph",level:3},{value:"Topic Monitor",id:"topic-monitor",level:3},{value:"Logger Level",id:"logger-level",level:3},{value:"Common Issues &amp; Solutions",id:"common-issues--solutions",level:2},{value:"Issue: Nodes can&#39;t discover each other",id:"issue-nodes-cant-discover-each-other",level:3},{value:"Issue: Topics not receiving data",id:"issue-topics-not-receiving-data",level:3},{value:"Exercise: Add Camera Integration",id:"exercise-add-camera-integration",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"urdu-translation-required",children:"[Urdu Translation Required]"})}),"\n",(0,a.jsx)(n.p,{children:"\u06cc\u06c1\u0627\u06ba \u0627\u0631\u062f\u0648 \u062a\u0631\u062c\u0645\u06c1 \u0634\u0627\u0645\u0644 \u06a9\u0631\u06cc\u06ba\r\n(Add Urdu translation here)"}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Original English Content (for reference):"})}),"\n",(0,a.jsx)(n.h1,{id:"ros-2-practical-implementation",children:"ROS 2 Practical Implementation"}),"\n",(0,a.jsx)(n.h2,{id:"building-a-complete-robot-system",children:"Building a Complete Robot System"}),"\n",(0,a.jsx)(n.p,{children:"Let's integrate everything we've learned into a practical mobile robot system."}),"\n",(0,a.jsx)(n.h2,{id:"project-autonomous-explorer-robot",children:"Project: Autonomous Explorer Robot"}),"\n",(0,a.jsx)(n.h3,{id:"system-requirements",children:"System Requirements"}),"\n",(0,a.jsx)(n.p,{children:"Our robot will:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Read from a LiDAR sensor"}),"\n",(0,a.jsx)(n.li,{children:"Detect obstacles"}),"\n",(0,a.jsx)(n.li,{children:"Navigate autonomously"}),"\n",(0,a.jsx)(n.li,{children:"Provide status updates"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"architecture",children:"Architecture"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502  LiDAR Node \u2502\u2500\u2500scan\u2500\u2500>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2502 Obstacle Det.\u2502\u2500\u2500obstacles\u2500\u2500>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n                        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502 Navigator\u2502\u2500\u2500cmd_vel\u2500\u2500>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502 Motors\u2502\r\n\u2502  Odom Node  \u2502\u2500\u2500odometry\u2500\u2500>\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>    ^                 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                            |\r\n                                                           |\r\n                                      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      |\r\n                                      \u2502 User Goals  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n                                      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,a.jsx)(n.h2,{id:"implementation",children:"Implementation"}),"\n",(0,a.jsx)(n.h3,{id:"1-lidar-node",children:"1. LiDAR Node"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from sensor_msgs.msg import LaserScan\r\nimport numpy as np\r\n\r\nclass LidarNode(Node):\r\n    def __init__(self):\r\n        super().__init__('lidar_node')\r\n\r\n        self.publisher = self.create_publisher(\r\n            LaserScan,\r\n            '/scan',\r\n            10\r\n        )\r\n\r\n        self.timer = self.create_timer(0.1, self.publish_scan)\r\n\r\n        # Configure LiDAR parameters\r\n        self.angle_min = -np.pi\r\n        self.angle_max = np.pi\r\n        self.angle_increment = np.pi / 180\r\n        self.range_min = 0.1\r\n        self.range_max = 10.0\r\n\r\n    def publish_scan(self):\r\n        scan = LaserScan()\r\n        scan.header.stamp = self.get_clock().now().to_msg()\r\n        scan.header.frame_id = 'laser_frame'\r\n\r\n        scan.angle_min = self.angle_min\r\n        scan.angle_max = self.angle_max\r\n        scan.angle_increment = self.angle_increment\r\n        scan.range_min = self.range_min\r\n        scan.range_max = self.range_max\r\n\r\n        # Simulate or read actual LiDAR data\r\n        num_readings = int(\r\n            (self.angle_max - self.angle_min) / self.angle_increment\r\n        )\r\n        scan.ranges = [self.read_distance(i) for i in range(num_readings)]\r\n\r\n        self.publisher.publish(scan)\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-obstacle-detection-node",children:"2. Obstacle Detection Node"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"class ObstacleDetector(Node):\r\n    def __init__(self):\r\n        super().__init__('obstacle_detector')\r\n\r\n        self.scan_sub = self.create_subscription(\r\n            LaserScan,\r\n            '/scan',\r\n            self.scan_callback,\r\n            10\r\n        )\r\n\r\n        self.obstacle_pub = self.create_publisher(\r\n            Bool,\r\n            '/obstacle_detected',\r\n            10\r\n        )\r\n\r\n        # Obstacle detection threshold (meters)\r\n        self.declare_parameter('obstacle_threshold', 0.5)\r\n\r\n    def scan_callback(self, scan: LaserScan):\r\n        threshold = self.get_parameter(\r\n            'obstacle_threshold'\r\n        ).get_parameter_value().double_value\r\n\r\n        # Check if any reading is below threshold\r\n        obstacle_detected = any(\r\n            r < threshold for r in scan.ranges\r\n            if self.range_min < r < self.range_max\r\n        )\r\n\r\n        msg = Bool()\r\n        msg.data = obstacle_detected\r\n        self.obstacle_pub.publish(msg)\r\n\r\n        if obstacle_detected:\r\n            self.get_logger().warn('Obstacle detected!')\n"})}),"\n",(0,a.jsx)(n.h3,{id:"3-navigation-node-action",children:"3. Navigation Node (Action)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from geometry_msgs.msg import Twist\r\nfrom std_msgs.msg import Bool\r\nfrom my_interfaces.action import NavigateToGoal\r\n\r\nclass Navigator(Node):\r\n    def __init__(self):\r\n        super().__init__('navigator')\r\n\r\n        # Velocity command publisher\r\n        self.cmd_pub = self.create_publisher(\r\n            Twist,\r\n            '/cmd_vel',\r\n            10\r\n        )\r\n\r\n        # Obstacle subscription\r\n        self.obstacle_sub = self.create_subscription(\r\n            Bool,\r\n            '/obstacle_detected',\r\n            self.obstacle_callback,\r\n            10\r\n        )\r\n\r\n        # Action server\r\n        self._action_server = ActionServer(\r\n            self,\r\n            NavigateToGoal,\r\n            'navigate_to_goal',\r\n            self.navigate_callback\r\n        )\r\n\r\n        self.obstacle_present = False\r\n\r\n    def obstacle_callback(self, msg: Bool):\r\n        self.obstacle_present = msg.data\r\n\r\n    def navigate_callback(self, goal_handle):\r\n        self.get_logger().info('Starting navigation...')\r\n\r\n        target = goal_handle.request.target_pose\r\n        feedback = NavigateToGoal.Feedback()\r\n\r\n        rate = self.create_rate(10)  # 10 Hz\r\n\r\n        while not self.reached_goal(target):\r\n            # Check for cancellation\r\n            if goal_handle.is_cancel_requested:\r\n                goal_handle.canceled()\r\n                self.stop_robot()\r\n                return NavigateToGoal.Result()\r\n\r\n            # Handle obstacles\r\n            if self.obstacle_present:\r\n                self.get_logger().warn('Obstacle! Stopping.')\r\n                self.stop_robot()\r\n                rate.sleep()\r\n                continue\r\n\r\n            # Compute and publish velocity\r\n            cmd_vel = self.compute_velocity(target)\r\n            self.cmd_pub.publish(cmd_vel)\r\n\r\n            # Publish feedback\r\n            feedback.current_pose = self.get_current_pose()\r\n            feedback.distance_remaining = self.compute_distance(target)\r\n            goal_handle.publish_feedback(feedback)\r\n\r\n            rate.sleep()\r\n\r\n        # Goal reached\r\n        self.stop_robot()\r\n        goal_handle.succeed()\r\n\r\n        result = NavigateToGoal.Result()\r\n        result.success = True\r\n        result.final_distance = 0.0\r\n        return result\r\n\r\n    def stop_robot(self):\r\n        stop_cmd = Twist()  # All zeros\r\n        self.cmd_pub.publish(stop_cmd)\n"})}),"\n",(0,a.jsx)(n.h2,{id:"launch-file",children:"Launch File"}),"\n",(0,a.jsxs)(n.p,{children:["Create ",(0,a.jsx)(n.code,{children:"launch/robot_system.launch.py"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        # LiDAR node\r\n        Node(\r\n            package='my_robot',\r\n            executable='lidar_node',\r\n            name='lidar',\r\n            parameters=[{'frame_id': 'laser_frame'}]\r\n        ),\r\n\r\n        # Obstacle detector\r\n        Node(\r\n            package='my_robot',\r\n            executable='obstacle_detector',\r\n            name='obstacle_detector',\r\n            parameters=[{'obstacle_threshold': 0.5}]\r\n        ),\r\n\r\n        # Navigator\r\n        Node(\r\n            package='my_robot',\r\n            executable='navigator',\r\n            name='navigator',\r\n        ),\r\n\r\n        # RViz for visualization\r\n        Node(\r\n            package='rviz2',\r\n            executable='rviz2',\r\n            name='rviz2',\r\n            arguments=['-d', 'config/robot.rviz']\r\n        ),\r\n    ])\n"})}),"\n",(0,a.jsx)(n.h2,{id:"testing-the-system",children:"Testing the System"}),"\n",(0,a.jsx)(n.h3,{id:"1-build-and-source",children:"1. Build and Source"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws\r\ncolcon build --packages-select my_robot\r\nsource install/setup.bash\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-launch-the-system",children:"2. Launch the System"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 launch my_robot robot_system.launch.py\n"})}),"\n",(0,a.jsx)(n.h3,{id:"3-send-navigation-goal",children:"3. Send Navigation Goal"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'ros2 action send_goal /navigate_to_goal my_interfaces/action/NavigateToGoal \\\r\n  "{target_pose: {pose: {position: {x: 2.0, y: 1.0}}}}"\n'})}),"\n",(0,a.jsx)(n.h3,{id:"4-monitor-topics",children:"4. Monitor Topics"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Watch velocity commands\r\nros2 topic echo /cmd_vel\r\n\r\n# Monitor obstacles\r\nros2 topic echo /obstacle_detected\r\n\r\n# View LiDAR scan\r\nros2 topic echo /scan\n"})}),"\n",(0,a.jsx)(n.h2,{id:"debugging-tools",children:"Debugging Tools"}),"\n",(0,a.jsx)(n.h3,{id:"rqt-graph",children:"RQt Graph"}),"\n",(0,a.jsx)(n.p,{children:"Visualize node connections:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"rqt_graph\n"})}),"\n",(0,a.jsx)(n.h3,{id:"topic-monitor",children:"Topic Monitor"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 topic list\r\nros2 topic info /scan\r\nros2 topic hz /cmd_vel  # Check publishing rate\n"})}),"\n",(0,a.jsx)(n.h3,{id:"logger-level",children:"Logger Level"}),"\n",(0,a.jsx)(n.p,{children:"Change logging verbosity:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 run my_robot navigator --ros-args --log-level debug\n"})}),"\n",(0,a.jsx)(n.h2,{id:"common-issues--solutions",children:"Common Issues & Solutions"}),"\n",(0,a.jsx)(n.h3,{id:"issue-nodes-cant-discover-each-other",children:"Issue: Nodes can't discover each other"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Solution"}),": Check DDS domain ID"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"export ROS_DOMAIN_ID=42\n"})}),"\n",(0,a.jsx)(n.h3,{id:"issue-topics-not-receiving-data",children:"Issue: Topics not receiving data"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Solution"}),": Verify QoS compatibility"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"# Use sensor QoS profile\r\nfrom rclpy.qos import qos_profile_sensor_data\r\n\r\nsubscription = node.create_subscription(\r\n    LaserScan,\r\n    '/scan',\r\n    callback,\r\n    qos_profile_sensor_data\r\n)\n"})}),"\n",(0,a.jsx)(n.h2,{id:"exercise-add-camera-integration",children:"Exercise: Add Camera Integration"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Task"}),": Extend the system with a camera node"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Requirements"}),":"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Publish camera images at 30 Hz"}),"\n",(0,a.jsx)(n.li,{children:"Create object detection node"}),"\n",(0,a.jsx)(n.li,{children:"Integrate detections into navigation decisions"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u2713 Built complete multi-node robot system"}),"\n",(0,a.jsx)(n.li,{children:"\u2713 Integrated sensors, processing, and control"}),"\n",(0,a.jsx)(n.li,{children:"\u2713 Used launch files for system orchestration"}),"\n",(0,a.jsx)(n.li,{children:"\u2713 Applied debugging tools"}),"\n",(0,a.jsx)(n.li,{children:"\u2713 Handled real-world challenges"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Congratulations on completing Module 1!"}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Image Placeholder"}),": [Complete system architecture diagram]"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Citation"}),': Macenski, S. "Navigation2." ',(0,a.jsx)(n.a,{href:"https://navigation.ros.org",children:"navigation.ros.org"})]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);