"use strict";(globalThis.webpackChunkmy_book=globalThis.webpackChunkmy_book||[]).push([[5112],{987:(e,n,r)=>{r.d(n,{A:()=>o});var s=r(6540),l=r(223),i=r(8514),a=r(4586),t=r(4848);const o=({chapterId:e,chapterContent:n,onPersonalize:r})=>{const{preferences:o,setPreferences:c,isPersonalized:d,getPersonalizedContent:h,setPersonalizedContent:p,isAuthenticated:u,loading:m,userBackground:x}=(0,l.s)(),{siteConfig:j}=(0,a.A)(),g=j.customFields?.backendUrl||"http://localhost:8000",[v,f]=(0,s.useState)(!1),[N,b]=(0,s.useState)(null),[y,z]=(0,s.useState)(!1),C=d(e),k=h(e),_=(e,n)=>{c({...o,[e]:n})};return m?(0,t.jsx)("div",{className:"personalization-container",children:(0,t.jsx)("div",{className:"personalization-header",children:(0,t.jsxs)("button",{className:"personalize-btn",disabled:!0,children:[(0,t.jsx)("span",{className:"spinner"}),"Loading..."]})})}):u?(0,t.jsxs)("div",{className:"personalization-container",children:[(0,t.jsxs)("div",{className:"personalization-header",children:[(0,t.jsx)("button",{className:`personalize-btn ${C?"applied":""} ${v?"loading":""}`,onClick:async()=>{if(!C){f(!0),b(null);try{const s={chapter_content:n,user_preferences:o,chapter_id:e},l=await fetch(`${g}/personalize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const i=await l.json();if(!i.personalization_applied||!i.personalized_content)throw new Error("Personalization was not applied successfully");p(e,i.personalized_content),r&&r(i.personalized_content)}catch(s){console.error("Personalization error:",s),b(s instanceof Error?s.message:"An error occurred during personalization")}finally{f(!1)}}},disabled:v||C,title:C?"Content already personalized":"Personalize this chapter based on your preferences",children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"spinner"}),"Personalizing..."]}):C?(0,t.jsx)(t.Fragment,{children:"\u2705 Personalized"}):(0,t.jsx)(t.Fragment,{children:"\ud83c\udfaf Personalize Content"})}),(0,t.jsx)("button",{className:"preferences-toggle",onClick:()=>z(!y),title:"Adjust your learning preferences",children:y?"Hide Preferences":"Preferences"})]}),y&&(0,t.jsxs)("div",{className:"preferences-panel",children:[(0,t.jsxs)("div",{className:"preferences-grid",children:[(0,t.jsxs)("div",{className:"preference-item",children:[(0,t.jsx)("label",{htmlFor:"learning-style",children:"Learning Style:"}),(0,t.jsxs)("select",{id:"learning-style",value:o.learning_style,onChange:e=>_("learning_style",e.target.value),children:[(0,t.jsx)("option",{value:"visual",children:"Visual"}),(0,t.jsx)("option",{value:"auditory",children:"Auditory"}),(0,t.jsx)("option",{value:"reading/writing",children:"Reading/Writing"}),(0,t.jsx)("option",{value:"kinesthetic",children:"Kinesthetic"}),(0,t.jsx)("option",{value:"multimodal",children:"Multimodal"})]})]}),(0,t.jsxs)("div",{className:"preference-item",children:[(0,t.jsx)("label",{htmlFor:"experience-level",children:"Experience Level:"}),(0,t.jsxs)("select",{id:"experience-level",value:o.experience_level,onChange:e=>_("experience_level",e.target.value),children:[(0,t.jsx)("option",{value:"beginner",children:"Beginner"}),(0,t.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,t.jsx)("option",{value:"advanced",children:"Advanced"}),(0,t.jsx)("option",{value:"expert",children:"Expert"})]})]}),(0,t.jsxs)("div",{className:"preference-item",children:[(0,t.jsx)("label",{htmlFor:"difficulty",children:"Difficulty:"}),(0,t.jsxs)("select",{id:"difficulty",value:o.difficulty_preference,onChange:e=>_("difficulty_preference",e.target.value),children:[(0,t.jsx)("option",{value:"easy",children:"Easy"}),(0,t.jsx)("option",{value:"moderate",children:"Moderate"}),(0,t.jsx)("option",{value:"challenging",children:"Challenging"})]})]})]}),(0,t.jsx)("div",{className:"preferences-actions",children:(0,t.jsx)("button",{onClick:()=>{c({learning_style:"multimodal",experience_level:"intermediate",interests:[],difficulty_preference:"moderate",preferred_examples:[],accessibility_needs:[]})},className:"reset-btn",children:"Reset to Defaults"})})]}),N&&(0,t.jsxs)("div",{className:"error-message",children:["Error: ",N,(0,t.jsx)("button",{onClick:()=>b(null),className:"close-error",children:"\xd7"})]}),C&&k&&(0,t.jsx)("div",{className:"personalized-content",children:(0,t.jsx)(i.A,{content:k})})]}):(0,t.jsx)("div",{className:"personalization-container",children:(0,t.jsx)("div",{className:"personalization-header",children:(0,t.jsx)("button",{className:"personalize-btn signin-required",onClick:()=>window.location.href="/signin?redirect="+encodeURIComponent(window.location.pathname),title:"Sign in to personalize content",children:"\ud83d\udd12 Sign In to Personalize"})})})}},8514:(e,n,r)=>{r.d(n,{A:()=>o});var s=r(6540),l=r(7716),i=r(3092),a=r(2239),t=r(4848);const o=({content:e,className:n=""})=>{const[r,o]=(0,s.useState)(e);(0,s.useEffect)(()=>{o(e)},[e]);const c={code({node:e,inline:n,className:r,children:s,...l}){const i=/language-(\w+)/.exec(r||"");return!n&&i?(0,t.jsx)("pre",{className:r,...l,children:(0,t.jsx)("code",{className:r,children:s})}):(0,t.jsx)("code",{className:r,...l,children:s})},a:({node:e,href:n,children:r,...s})=>(0,t.jsx)("a",{href:n,target:n?.startsWith("http")?"_blank":void 0,rel:n?.startsWith("http")?"noopener noreferrer":void 0,...s,children:r})};return(0,t.jsx)("div",{className:`markdown-renderer ${n}`,children:(0,t.jsx)(l.oz,{remarkPlugins:[i.A],rehypePlugins:[a.A],components:c,children:r})})}},9133:(e,n,r)=>{r.r(n),r.d(n,{default:()=>c});var s=r(6540),l=r(1656),i=r(8478),a=r(987),t=r(4848);const o=()=>{const{preferences:e,updatePreferences:n}=r(223).s(),[l,i]=(0,s.useState)(e);(0,s.useEffect)(()=>{i(e)},[e]);const o=e=>{const{name:n,value:r,type:s}=e.target,l="checkbox"===s?e.target.checked:r;i(e=>({...e,[n]:l}))};return(0,t.jsx)("div",{className:"container margin-vert--lg",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsxs)("div",{className:"col col--8 col--offset-2",children:[(0,t.jsx)("h1",{children:"\u0622\u067e \u06a9\u06cc \u062a\u0631\u062c\u06cc\u062d\u0627\u062a"}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(l),alert("\u062a\u0628\u062f\u06cc\u0644\u06cc\u0627\u06ba \u06a9\u0627\u0645\u06cc\u0627\u0628\u06cc \u0633\u06d2 \u0645\u062d\u0641\u0648\u0638 \u06c1\u0648 \u06af\u0626\u06cc\u06ba!")},className:"preferences-form",children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"learningGoal",children:"\u0633\u06cc\u06a9\u06be\u0646\u06d2 \u06a9\u0627 \u0645\u0642\u0635\u062f"}),(0,t.jsxs)("select",{id:"learningGoal",name:"learningGoal",value:l.learningGoal,onChange:o,className:"form-control",children:[(0,t.jsx)("option",{value:"beginner",children:"\u0646\u06cc\u0627 \u0634\u0631\u0648\u0639 \u06a9\u0631\u0646\u06d2 \u0648\u0627\u0644\u0627"}),(0,t.jsx)("option",{value:"intermediate",children:"\u062f\u0631\u0645\u06cc\u0627\u0646\u06cc"}),(0,t.jsx)("option",{value:"advanced",children:"\u0627\u0639\u0644\u06cc \u062f\u0631\u062c\u06d2 \u06a9\u0627"}),(0,t.jsx)("option",{value:"expert",children:"\u0645\u0627\u06c1\u0631"})]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"programmingExperience",children:"\u067e\u0631\u0648\u06af\u0631\u0627\u0645\u0646\u06af \u06a9\u0627 \u062a\u062c\u0631\u0628\u06c1"}),(0,t.jsxs)("select",{name:"programmingExperience",value:l.programmingExperience,onChange:o,className:"form-control",children:[(0,t.jsx)("option",{value:"none",children:"\u06a9\u0648\u0626\u06cc \u0646\u06c1\u06cc\u06ba"}),(0,t.jsx)("option",{value:"beginner",children:"\u0646\u06cc\u0627 \u0634\u0631\u0648\u0639 \u06a9\u0631\u0646\u06d2 \u0648\u0627\u0644\u0627"}),(0,t.jsx)("option",{value:"intermediate",children:"\u062f\u0631\u0645\u06cc\u0627\u0646\u06cc"}),(0,t.jsx)("option",{value:"advanced",children:"\u0627\u0639\u0644\u06cc \u062f\u0631\u062c\u06d2 \u06a9\u0627"})]})]}),(0,t.jsx)("div",{className:"form-group",children:(0,t.jsxs)("label",{children:[(0,t.jsx)("input",{type:"checkbox",name:"emailNotifications",checked:l.emailNotifications,onChange:o})," ","\u0627\u06cc \u0645\u06cc\u0644 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062d\u0627\u0635\u0644 \u06a9\u0631\u06cc\u06ba"]})}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"preferredLanguage",children:"\u062a\u0631\u062c\u06cc\u062d\u06cc \u0632\u0628\u0627\u0646"}),(0,t.jsxs)("select",{name:"preferredLanguage",value:l.preferredLanguage,onChange:o,className:"form-control",children:[(0,t.jsx)("option",{value:"en",children:"\u0627\u0646\u06af\u0631\u06cc\u0632\u06cc"}),(0,t.jsx)("option",{value:"ur",children:"\u0627\u0631\u062f\u0648"}),(0,t.jsx)("option",{value:"es",children:"\u06c1\u0633\u067e\u0627\u0646\u0648\u06cc"}),(0,t.jsx)("option",{value:"fr",children:"\u0641\u0631\u0627\u0646\u0633\u06cc\u0633\u06cc"})]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"learningSchedule",children:"\u0633\u06cc\u06a9\u06be\u0646\u06d2 \u06a9\u0627 \u0634\u06cc\u0688\u0648\u0644"}),(0,t.jsxs)("select",{name:"learningSchedule",value:l.learningSchedule,onChange:o,className:"form-control",children:[(0,t.jsx)("option",{value:"casual",children:"\u0622\u0631\u0627\u0645 \u062f\u06c1 (\u06c1\u0641\u062a\u06d2 \u0645\u06cc\u06ba 1-2 \u06af\u06be\u0646\u0679\u06d2)"}),(0,t.jsx)("option",{value:"regular",children:"\u0440\u0435\u0433\u0648\u0644\u0631 (\u06c1\u0641\u062a\u06d2 \u0645\u06cc\u06ba 3-5 \u06af\u06be\u0646\u0679\u06d2)"}),(0,t.jsx)("option",{value:"intensive",children:"\u0627\u0646\u0679\u06cc\u0646\u0633 (\u06c1\u0641\u062a\u06d2 \u0645\u06cc\u06ba 5+ \u06af\u06be\u0646\u0679\u06d2)"})]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"interests",children:"\u062f\u0644\u0686\u0633\u067e\u06cc\u0627\u06ba"}),(0,t.jsx)("textarea",{name:"interests",value:l.interests,onChange:o,className:"form-control",rows:3,placeholder:"\u0631\u0648\u0628\u0648\u0679\u06a9\u0633\u060c \u0645\u0634\u06cc\u0646 \u0644\u0631\u0646\u0646\u06af\u060c AI \u0648\u063a\u06cc\u0631\u06c1"})]}),(0,t.jsx)("button",{type:"submit",className:"button button--primary",children:"\u062a\u0631\u062c\u06cc\u062d\u0627\u062a \u0645\u062d\u0641\u0648\u0638 \u06a9\u0631\u06cc\u06ba"})]}),(0,t.jsxs)("div",{style:{marginTop:"2rem"},children:[(0,t.jsx)("h2",{children:"\u0630\u0627\u062a\u06cc\u062a \u06a9\u06d2 \u0628\u0679\u0646 \u06a9\u0648 \u0634\u0627\u0645\u0644 \u06a9\u0631\u06cc\u06ba"}),(0,t.jsx)("p",{children:"\u0635\u0641\u062d\u06c1 \u067e\u0631 \u0630\u0627\u062a\u06cc\u062a \u06a9\u06d2 \u0628\u0679\u0646 \u06a9\u0648 \u0634\u0627\u0645\u0644 \u06a9\u0631\u0646\u06d2 \u06a9\u06d2 \u0644\u06cc\u06d2:"}),(0,t.jsx)(a.A,{})]})]})})})},c=()=>(0,t.jsx)(l.A,{title:"\u062a\u0631\u062c\u06cc\u062d\u0627\u062a",description:"\u0627\u067e\u0646\u06cc \u0630\u0627\u062a\u06cc \u062a\u0631\u062c\u06cc\u062d\u0627\u062a \u0627\u0648\u0631 \u062a\u0631\u062a\u06cc\u0628\u0627\u062a \u0645\u06cc\u0646\u062c \u06a9\u0631\u06cc\u06ba",children:(0,t.jsx)(i.A,{children:()=>(0,t.jsx)(o,{})})})}}]);